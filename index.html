<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Background Music Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .music-wave {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 60px;
            height: 40px;
        }
        
        .wave-bar {
            width: 4px;
            height: 20px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            border-radius: 2px;
            animation: wave 1.2s ease-in-out infinite;
        }
        
        .wave-bar:nth-child(2) { animation-delay: 0.1s; }
        .wave-bar:nth-child(3) { animation-delay: 0.2s; }
        .wave-bar:nth-child(4) { animation-delay: 0.3s; }
        .wave-bar:nth-child(5) { animation-delay: 0.4s; }
        
        @keyframes wave {
            0%, 100% { height: 10px; }
            50% { height: 30px; }
        }
        
        .volume-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #6366f1;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .volume-slider::-webkit-slider-thumb:hover {
            background: #4f46e5;
            transform: scale(1.2);
        }
        
        .play-btn {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
        }
        
        .play-btn:active {
            transform: scale(0.95);
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const BackgroundMusicPlayer = () => {
            const [isPlaying, setIsPlaying] = useState(false);
            const [volume, setVolume] = useState(0.7);
            const [showVolume, setShowVolume] = useState(false);
            const [autoplayBlocked, setAutoplayBlocked] = useState(false);
            const audioRef = useRef(null);

            // Using a public domain ambient music track
            const musicUrl = "https://cdn.pixabay.com/download/audio/2022/01/20/audio_d3705bdcf2.mp3?filename=ambient-piano-amp-strings-12099.mp3";

            useEffect(() => {
                const audio = audioRef.current;
                
                const handlePlay = () => {
                    setIsPlaying(true);
                    setAutoplayBlocked(false);
                };

                const handlePause = () => {
                    setIsPlaying(false);
                };

                const handleError = (e) => {
                    console.error('Audio error:', e);
                    setAutoplayBlocked(true);
                };

                // Try to play automatically when component mounts
                const tryAutoplay = async () => {
                    try {
                        await audio.play();
                        setIsPlaying(true);
                    } catch (error) {
                        console.log('Autoplay blocked:', error);
                        setAutoplayBlocked(true);
                        setIsPlaying(false);
                    }
                };

                audio.addEventListener('play', handlePlay);
                audio.addEventListener('pause', handlePause);
                audio.addEventListener('error', handleError);

                // Set initial volume
                audio.volume = volume;

                // Try autoplay after a short delay
                const autoplayTimer = setTimeout(tryAutoplay, 1000);

                return () => {
                    audio.removeEventListener('play', handlePlay);
                    audio.removeEventListener('pause', handlePause);
                    audio.removeEventListener('error', handleError);
                    clearTimeout(autoplayTimer);
                };
            }, []);

            useEffect(() => {
                if (audioRef.current) {
                    audioRef.current.volume = volume;
                }
            }, [volume]);

            const togglePlay = async () => {
                try {
                    if (isPlaying) {
                        await audioRef.current.pause();
                    } else {
                        await audioRef.current.play();
                    }
                } catch (error) {
                    console.error('Play/Pause error:', error);
                }
            };

            const handleVolumeChange = (e) => {
                const newVolume = parseFloat(e.target.value);
                setVolume(newVolume);
            };

            const toggleVolume = () => {
                setShowVolume(!showVolume);
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-4 fade-in">
                    <audio ref={audioRef} src='bg.mp3' loop />
                    
                    <div className="glass-morphism rounded-2xl p-8 max-w-md w-full shadow-2xl">
                        <div className="text-center mb-8">
                            <div className="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg">
                                <img 
                                    src="https://placehold.co/80x80" 
                                    alt="Musical notes and sound waves in purple and blue gradient design" 
                                    className="w-16 h-16 rounded-full object-cover"
                                />
                            </div>
                            <h1 className="text-3xl font-bold mb-2 bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">
                                Ambient Background Music
                            </h1>
                            <p className="text-gray-300 text-sm">
                                Relaxing piano and strings composition
                            </p>
                        </div>

                        {autoplayBlocked && (
                            <div className="bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-3 mb-6 text-center">
                                <p className="text-yellow-200 text-sm">
                                    Click the play button to start music (autoplay was blocked)
                                </p>
                            </div>
                        )}

                        <div className="flex items-center justify-center mb-6">
                            {isPlaying ? (
                                <div className="music-wave">
                                    {[1, 2, 3, 4, 5].map((_, index) => (
                                        <div key={index} className="wave-bar"></div>
                                    ))}
                                </div>
                            ) : (
                                <div className="w-12 h-12 bg-gray-600/30 rounded-full flex items-center justify-center">
                                    <svg className="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                    </svg>
                                </div>
                            )}
                        </div>

                        <div className="flex items-center justify-center space-x-4 mb-6">
                            <button
                                onClick={togglePlay}
                                className="play-btn w-16 h-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center hover:from-indigo-500 hover:to-purple-500 transition-all duration-300"
                            >
                                {isPlaying ? (
                                    <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd" />
                                    </svg>
                                ) : (
                                    <svg className="w-8 h-8 ml-1" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clipRule="evenodd" />
                                    </svg>
                                )}
                            </button>

                            <button
                                onClick={toggleVolume}
                                className="w-12 h-12 bg-gray-700/50 rounded-full flex items-center justify-center hover:bg-gray-600/50 transition-colors"
                            >
                                <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                    {volume === 0 ? (
                                        <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z" clipRule="evenodd" />
                                    ) : volume < 0.5 ? (
                                        <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414z" clipRule="evenodd" />
                                    ) : (
                                        <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z" clipRule="evenodd" />
                                    )}
                                </svg>
                            </button>
                        </div>

                        {showVolume && (
                            <div className="mb-6 px-4">
                                <div className="flex items-center space-x-3">
                                    <svg className="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217z" clipRule="evenodd" />
                                    </svg>
                                    <input
                                        type="range"
                                        min="0"
                                        max="1"
                                        step="0.01"
                                        value={volume}
                                        onChange={handleVolumeChange}
                                        className="volume-slider"
                                    />
                                    <svg className="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z" clipRule="evenodd" />
                                    </svg>
                                </div>
                            </div>
                        )}

                        <div className="text-center text-xs text-gray-400">
                            <p>Music: Ambient Piano & Strings (Pixabay)</p>
                            <p>Volume: {Math.round(volume * 100)}% | Status: {isPlaying ? 'Playing' : 'Paused'}</p>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            return (
                <div className="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800">
                    <BackgroundMusicPlayer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

